(this.webpackJsonptodo=this.webpackJsonptodo||[]).push([[0],{101:function(t,e,a){t.exports=a(132)},106:function(t,e,a){},129:function(t,e,a){},132:function(t,e,a){"use strict";a.r(e);var r={};a.r(r),a.d(r,"selectIsLoggedIn",(function(){return Dt}));var n=a(0),s=a.n(n),o=a(10),i=a.n(o);a(106),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l,c,u,d=a(24),p=a(22),f=a(8),m=a.n(f),b=a(14),v=a(16),h=a(81),g=a.n(h).a.create({baseURL:"https://social-network.samuraijs.com/api/1.1/",withCredentials:!0,headers:{"api-key":"2dece0c4-7aed-430e-aeba-9f10430f969a"}}),k=function(){return g.get("todo-lists")},y=function(t){return g.post("todo-lists",{title:t})},E=function(t){return g.delete("todo-lists/".concat(t))},j=function(t,e){return g.put("todo-lists/".concat(t),{title:e})},O=function(t){return g.get("todo-lists/".concat(t,"/tasks"))},I=function(t,e){return g.post("todo-lists/".concat(t,"/tasks"),{title:e})},x=function(t,e){return g.delete("/todo-lists/".concat(t,"/tasks/").concat(e))},w=function(t,e,a){return g.put("todo-lists/".concat(t,"/tasks/").concat(e),a)},C=function(){return g.get("auth/me")},T=function(t){return g.post("auth/login",t)},S=function(){return g.delete("auth/login")};!function(t){t[t.New=0]="New",t[t.InProgress=1]="InProgress",t[t.Completed=2]="Completed",t[t.Draft=3]="Draft"}(l||(l={})),function(t){t[t.Low=0]="Low",t[t.Middle=1]="Middle",t[t.Hi=2]="Hi",t[t.Urgently=3]="Urgently",t[t.Later=4]="Later"}(c||(c={})),function(t){t[t.success=0]="success",t[t.error=1]="error"}(u||(u={}));var A,L=function(t,e){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];a&&e(U({error:t.messages.length?t.messages[0]:"Some error occurred"})),e(Z({status:"failed"}))},W=function(t,e){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];a&&e(U({error:t.message?t.message:"Some error occurred"})),e(Z({status:"failed"}))},V=Object(v.b)("auth/login",function(){var t=Object(b.a)(m.a.mark((function t(e,a){var r,n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.dispatch(Z({status:"loading"})),t.prev=1,t.next=4,T(e);case 4:if(0!==(r=t.sent).data.resultCode){t.next=10;break}return a.dispatch(Z({status:"succeeded"})),t.abrupt("return");case 10:return L(r.data,a.dispatch),t.abrupt("return",a.rejectWithValue({errors:r.data.messages,fieldsErrors:r.data.fieldsErrors}));case 13:t.next=20;break;case 15:return t.prev=15,t.t0=t.catch(1),n=t.t0,W(t.t0,a.dispatch),t.abrupt("return",a.rejectWithValue({errors:[n.message],fieldsErrors:void 0}));case 20:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(e,a){return t.apply(this,arguments)}}()),F=Object(v.b)("auth/logout",function(){var t=Object(b.a)(m.a.mark((function t(e,a){var r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.dispatch(Z({status:"loading"})),t.prev=1,t.next=4,S();case 4:if(0!==(r=t.sent).data.resultCode){t.next=10;break}return a.dispatch(Z({status:"succeeded"})),t.abrupt("return");case 10:return L(r.data,a.dispatch),t.abrupt("return",a.rejectWithValue({}));case 12:t.next=18;break;case 14:return t.prev=14,t.t0=t.catch(1),W(t.t0,a.dispatch),t.abrupt("return",a.rejectWithValue({}));case 18:case"end":return t.stop()}}),t,null,[[1,14]])})));return function(e,a){return t.apply(this,arguments)}}()),M={loginTC:V,logoutTC:F},N=Object(v.c)({name:"auth",initialState:{isLoggedIn:!1},reducers:{setIsLoggedInAC:function(t,e){t.isLoggedIn=e.payload.value}},extraReducers:function(t){t.addCase(V.fulfilled,(function(t,e){t.isLoggedIn=!0})),t.addCase(F.fulfilled,(function(t,e){t.isLoggedIn=!1}))}}),P=N.reducer,R=N.actions.setIsLoggedInAC,z=Object(v.b)("app/initApp",function(){var t=Object(b.a)(m.a.mark((function t(e,a){var r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.dispatch,t.next=3,C();case 3:0===t.sent.data.resultCode&&r(R({value:!0})),r(Z({status:"failed"}));case 6:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()),D={authMeTC:z},q=Object(v.c)({name:"app",initialState:{status:"loading",error:null,init:!1},reducers:{setAppStatusAC:function(t,e){t.status=e.payload.status},setAppErrorAC:function(t,e){t.error=e.payload.error}},extraReducers:function(t){t.addCase(z.fulfilled,(function(t,e){t.init=!0}))}}),B=q.reducer,H=q.actions,U=H.setAppErrorAC,Z=H.setAppStatusAC,J=Object(v.b)("todolists/fetchTodolists",function(){var t=Object(b.a)(m.a.mark((function t(e,a){var r,n,s;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.dispatch,n=a.rejectWithValue,r(Z({status:"loading"})),t.next=4,k();case 4:return s=t.sent,t.prev=5,r(Z({status:"succeeded"})),t.abrupt("return",{todolists:s.data});case 10:return t.prev=10,t.t0=t.catch(5),W(t.t0,r),t.abrupt("return",n(null));case 14:case"end":return t.stop()}}),t,null,[[5,10]])})));return function(e,a){return t.apply(this,arguments)}}()),$=Object(v.b)("todolists/removeTodolists",function(){var t=Object(b.a)(m.a.mark((function t(e,a){var r,n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.dispatch,n=a.rejectWithValue,r(Z({status:"loading"})),r(tt({status:"loading",id:e.todolistId})),t.next=5,E(e.todolistId);case 5:return t.sent,t.prev=6,t.abrupt("return",{todolistId:e.todolistId});case 10:return t.prev=10,t.t0=t.catch(6),W(t.t0,r),t.abrupt("return",n(null));case 14:case"end":return t.stop()}}),t,null,[[6,10]])})));return function(e,a){return t.apply(this,arguments)}}()),_=Object(v.b)("todolists/addTodolists",function(){var t=Object(b.a)(m.a.mark((function t(e,a){var r,n,s,o;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.dispatch,n=a.rejectWithValue,r(Z({status:"loading"})),t.next=4,y(e.title);case 4:if(s=t.sent,t.prev=5,0!==s.data.resultCode){t.next=11;break}return r(Z({status:"succeeded"})),t.abrupt("return",{todolist:s.data.data.item});case 11:return L(s.data,r,!1),t.abrupt("return",n({errors:s.data.messages,fieldsErrors:s.data.fieldsErrors}));case 13:t.next=20;break;case 15:return t.prev=15,t.t0=t.catch(5),o=t.t0,L(t.t0,r,!1),t.abrupt("return",n({errors:[o.message],fieldsErrors:void 0}));case 20:case"end":return t.stop()}}),t,null,[[5,15]])})));return function(e,a){return t.apply(this,arguments)}}()),K=Object(v.b)("todolists/changeTodolistTitle",function(){var t=Object(b.a)(m.a.mark((function t(e,a){var r,n,s,o;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.dispatch,n=a.rejectWithValue,r(Z({status:"loading"})),t.prev=2,t.next=5,j(e.id,e.title);case 5:if((s=t.sent).data.resultCode!==u.success){t.next=11;break}return r(Z({status:"succeeded"})),t.abrupt("return",{todolistId:e.id,newTitle:e.title});case 11:return L(s.data,r),t.abrupt("return",n({errors:s.data.messages,fieldsErrors:s.data.fieldsErrors}));case 13:t.next=20;break;case 15:return t.prev=15,t.t0=t.catch(2),o=t.t0,L(t.t0,r,!1),t.abrupt("return",n({errors:[o.message],fieldsErrors:void 0}));case 20:case"end":return t.stop()}}),t,null,[[2,15]])})));return function(e,a){return t.apply(this,arguments)}}()),X={fetchTodolists:J,removeTodolist:$,addTodolist:_,changeTodolistTitle:K},G=Object(v.c)({name:"todolists",initialState:[],reducers:{changeTodolistFilter:function(t,e){var a=t.findIndex((function(t){return t.id===e.payload.todolistId}));t[a].filter=e.payload.newFilter},changeTodolistEntityStatus:function(t,e){var a=t.findIndex((function(t){return t.id===e.payload.id}));t[a].entityStatus=e.payload.status}},extraReducers:function(t){t.addCase(J.fulfilled,(function(t,e){return e.payload.todolists.map((function(t){return Object(p.a)(Object(p.a)({},t),{},{filter:"all",entityStatus:"idle"})}))})),t.addCase($.fulfilled,(function(t,e){var a=t.findIndex((function(t){return t.id===e.payload.todolistId}));a>-1&&t.splice(a,1)})),t.addCase(_.fulfilled,(function(t,e){t.unshift(Object(p.a)(Object(p.a)({},e.payload.todolist),{},{filter:"all",entityStatus:"idle"}))})),t.addCase(K.fulfilled,(function(t,e){var a=t.findIndex((function(t){return t.id===e.payload.todolistId}));t[a].title=e.payload.newTitle}))}}),Q=G.reducer,Y=G.actions,tt=Y.changeTodolistEntityStatus;Y.changeTodolistFilter;!function(t){t[t.success=0]="success",t[t.error=1]="error"}(A||(A={}));var et=Object(v.b)("tasks/fetchTasks",function(){var t=Object(b.a)(m.a.mark((function t(e,a){var r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.dispatch(Z({status:"loading"})),t.next=3,O(e);case 3:return r=t.sent,a.dispatch(Z({status:"succeeded"})),t.abrupt("return",{todolistId:e,tasks:r.data.items});case 6:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()),at=Object(v.b)("tasks/removeTask",function(){var t=Object(b.a)(m.a.mark((function t(e,a){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.dispatch(Z({status:"loading"})),a.dispatch(lt({todolistId:e.todolistId,taskId:e.taskId,status:"loading"})),t.prev=2,t.next=5,x(e.todolistId,e.taskId);case 5:return t.sent,a.dispatch(Z({status:"succeeded"})),t.abrupt("return",{taskId:e.taskId,todolistId:e.todolistId});case 10:return t.prev=10,t.t0=t.catch(2),a.dispatch(Z({status:"failed"})),t.abrupt("return",a.rejectWithValue(U(t.t0.message)));case 14:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e,a){return t.apply(this,arguments)}}()),rt=Object(v.b)("tasks/addTask",function(){var t=Object(b.a)(m.a.mark((function t(e,a){var r,n,s,o;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.dispatch,n=a.rejectWithValue,r(Z({status:"loading"})),t.prev=2,t.next=5,I(e.todolistId,e.title);case 5:if((s=t.sent).data.resultCode!==A.success){t.next=10;break}return t.abrupt("return",s.data.data.item);case 10:return L(s.data,r,!1),t.abrupt("return",n({errors:s.data.messages,fieldsErrors:s.data.fieldsErrors}));case 12:t.next=19;break;case 14:return t.prev=14,t.t0=t.catch(2),o=t.t0,L(t.t0,r,!1),t.abrupt("return",n({errors:[o.message],fieldsErrors:void 0}));case 19:case"end":return t.stop()}}),t,null,[[2,14]])})));return function(e,a){return t.apply(this,arguments)}}()),nt=Object(v.b)("tasks/updateTask",function(){var t=Object(b.a)(m.a.mark((function t(e,a){var r,n,s,o,i,l,c,u,d,f;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=a.dispatch,n=a.getState,s=a.rejectWithValue,o=n(),i=e.taskId,l=e.todolistId,c=e.domain,u=o.tasks[l].find((function(t){return t.id===i}))){t.next=6;break}return t.abrupt("return",s(null));case 6:return d=Object(p.a)({deadline:u.deadline,description:u.description,priority:u.priority,startDate:u.startDate,title:u.title,status:u.status},c),r(Z({status:"loading"})),r(lt({todolistId:l,taskId:i,status:"loading"})),t.next=11,w(l,i,d);case 11:if(f=t.sent,t.prev=12,f.data.resultCode!==A.success){t.next=19;break}return r(Z({status:"succeeded"})),r(lt({todolistId:l,taskId:i,status:"succeeded"})),t.abrupt("return",e);case 19:return L(f.data,r),r(lt({todolistId:l,taskId:i,status:"failed"})),t.abrupt("return",s(null));case 22:t.next=28;break;case 24:return t.prev=24,t.t0=t.catch(12),L(t.t0,r),t.abrupt("return",s(null));case 28:case"end":return t.stop()}}),t,null,[[12,24]])})));return function(e,a){return t.apply(this,arguments)}}()),st={fetchTasks:et,removeTask:at,addTask:rt,updateTask:nt},ot=Object(v.c)({name:"tasks",initialState:{},reducers:{changeTaskEntityStatusAC:function(t,e){var a=t[e.payload.todolistId].findIndex((function(t){return t.id===e.payload.taskId}));t[e.payload.todolistId][a].entityStatus=e.payload.status}},extraReducers:function(t){t.addCase(X.addTodolist.fulfilled,(function(t,e){t[e.payload.todolist.id]=[]})),t.addCase(X.removeTodolist.fulfilled,(function(t,e){delete t[e.payload.todolistId]})),t.addCase(X.fetchTodolists.fulfilled,(function(t,e){e.payload.todolists.forEach((function(e){t[e.id]=[]}))})),t.addCase(et.fulfilled,(function(t,e){t[e.payload.todolistId]=e.payload.tasks.map((function(t){return Object(p.a)(Object(p.a)({},t),{},{entityStatus:"idle"})}))})),t.addCase(at.fulfilled,(function(t,e){var a=t[e.payload.todolistId].findIndex((function(t){return t.id===e.payload.taskId}));a>-1&&t[e.payload.todolistId].splice(a,1)})),t.addCase(rt.fulfilled,(function(t,e){t[e.payload.todoListId].unshift(Object(p.a)(Object(p.a)({},e.payload),{},{entityStatus:"idle"}))})),t.addCase(nt.fulfilled,(function(t,e){var a=t[e.payload.todolistId],r=a.findIndex((function(t){return t.id===e.payload.taskId}));a[r]=Object(p.a)(Object(p.a)({},a[r]),e.payload.domain)}))}}),it=ot.reducer,lt=ot.actions.changeTaskEntityStatusAC,ct=a(25),ut=a(49),dt=Object(ct.c)({tasks:it,todolists:Q,app:B,auth:P}),pt=Object(v.a)({reducer:dt,middleware:function(t){return t().prepend(ut.a)}});window.store=pt;a(129);var ft=a(174),mt=a(175),bt=a(176),vt=a(166),ht=a(134),gt=a(170),kt=a(178),yt=a(179),Et=a(177),jt=a(184),Ot=a(181);function It(t){return s.a.createElement(Ot.a,Object.assign({elevation:6,variant:"filled"},t))}function xt(){var t=Object(d.b)(),e=Object(d.c)((function(t){return t.app.error})),a=function(e,a){"clickaway"!==a&&t(U({error:null}))};return s.a.createElement(jt.a,{open:null!==e,autoHideDuration:6e3,onClose:a},s.a.createElement(It,{onClose:a,severity:"error"},e))}var wt=a(171),Ct=a(46),Tt=a(180),St=a(168),At=s.a.memo((function(t){var e=Object(n.useState)(""),a=Object(Ct.a)(e,2),r=a[0],o=a[1],i=Object(n.useState)(null),l=Object(Ct.a)(i,2),c=l[0],u=l[1];var d=function(){var e=Object(b.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.trim()?t.addItem({title:r.trim()},{setError:u,setTaskText:o}):u("Title is required!");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return s.a.createElement("div",null,s.a.createElement(Tt.a,{onChange:function(t){o(t.target.value),u(null)},value:r,onKeyPress:function(t){null!==c&&u(null),"Enter"===t.key&&d()},variant:"outlined",size:"small",error:!!c,helperText:c,label:"Title",disabled:"loading"===t.entityStatus}),s.a.createElement(vt.a,{color:"primary",onClick:d,disabled:!r&&"loading"===t.entityStatus,style:{marginLeft:"5px"}},s.a.createElement(St.a,null)))})),Lt=a(182),Wt=s.a.memo((function(t){console.log("editable span");var e=Object(n.useState)(!1),a=Object(Ct.a)(e,2),r=a[0],o=a[1],i=Object(n.useState)(""),l=Object(Ct.a)(i,2),c=l[0],u=l[1];return r?s.a.createElement(Tt.a,{value:c,variant:"outlined",size:"small",onChange:function(t){u(t.target.value)},onBlur:function(){o(!1),t.onChange(c)},autoFocus:!0}):s.a.createElement("span",{onDoubleClick:function(){"loading"!==t.entityStatus&&(o(!0),u(t.value))}},t.value)})),Vt=a(169),Ft=function(){return Object(d.b)()};function Mt(t){var e=Ft();return Object(n.useMemo)((function(){return Object(ct.b)(t,e)}),[])}var Nt=s.a.memo((function(t){var e=Mt(Ht),a=e.updateTask,r=e.removeTask,o=Object(n.useCallback)((function(){return r({taskId:t.task.id,todolistId:t.todolistId})}),[t.task.id,t.todolistId]),i=Object(n.useCallback)((function(e){var r=e.currentTarget.checked;a({taskId:t.task.id,domain:{status:r?l.Completed:l.New},todolistId:t.todolistId})}),[t.task.id,t.todolistId]),c=Object(n.useCallback)((function(e){a({taskId:t.task.id,domain:{title:e},todolistId:t.todolistId})}),[t.task.id,t.todolistId]);return s.a.createElement("div",{key:t.task.id,className:t.task.status===l.Completed?"is-done":"",style:{position:"relative"}},s.a.createElement(Lt.a,{checked:t.task.status===l.Completed,color:"primary",onChange:i,disabled:"loading"===t.task.entityStatus}),s.a.createElement(Wt,{value:t.task.title,onChange:c,entityStatus:t.task.entityStatus}),s.a.createElement(vt.a,{onClick:o,size:"small",disabled:"loading"===t.task.entityStatus,style:{position:"absolute",top:"2px",right:"2px"}},s.a.createElement(Vt.a,{fontSize:"small"})))})),Pt=a(133),Rt=s.a.memo((function(t){console.log("Todolist called");var e=Mt(Bt),a=e.removeTodolist,r=e.changeTodolistTitle,o=e.changeTodolistFilter,i=Mt(Ht).fetchTasks,c=Ft();Object(n.useEffect)((function(){i(t.todolist.id)}),[]);var u=Object(n.useCallback)(function(){var e=Object(b.a)(m.a.mark((function e(a,r){var n,s,o,i,l,u;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ht.addTask({title:a.title,todolistId:t.todolist.id}),e.next=3,c(n);case 3:s=e.sent,Ht.addTask.rejected.match(s)?(null===(o=s.payload)||void 0===o||null===(i=o.errors)||void 0===i?void 0:i.length)?(u=null===(l=s.payload)||void 0===l?void 0:l.errors[0],r.setError(u)):r.setError("Some error occured"):r.setTaskText("");case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),[t.todolist.id]),d=Object(n.useCallback)((function(e){r({id:t.todolist.id,title:e})}),[t.todolist.id]),p=Object(n.useCallback)((function(e){return o({newFilter:e,todolistId:t.todolist.id})}),[t.todolist.id]),f=t.tasks;"active"===t.todolist.filter&&(f=t.tasks.filter((function(t){return t.status===l.New}))),"completed"===t.todolist.filter&&(f=t.tasks.filter((function(t){return t.status===l.Completed})));var v=function(e,a,r){return s.a.createElement(gt.a,{variant:t.todolist.filter===e?"outlined":"text",onClick:function(){return p(e)},color:a},r)};return s.a.createElement(Pt.a,{style:{padding:"10px",position:"relative"}},s.a.createElement(vt.a,{onClick:function(){a({todolistId:t.todolist.id})},size:"small",disabled:"loading"===t.todolist.entityStatus,style:{position:"absolute",right:"5px",top:"5px"}},s.a.createElement(Vt.a,{fontSize:"small"})),s.a.createElement("h3",null,s.a.createElement(Wt,{value:t.todolist.title,onChange:d,entityStatus:t.todolist.entityStatus})),s.a.createElement(At,{addItem:u,entityStatus:t.todolist.entityStatus}),s.a.createElement("div",null,f.map((function(e){return s.a.createElement(Nt,{key:e.id,task:e,todolistId:t.todolist.id})})),!f.length&&s.a.createElement("div",{style:{padding:"10px",color:"gray"}},"No tasks")),s.a.createElement("div",{style:{paddingTop:"10px"}},v("all","default","All"),v("active","primary","Active"),v("completed","secondary","Completed")))})),zt=a(15),Dt=function(t){return t.auth.isLoggedIn},qt=function(){var t=Object(d.c)((function(t){return t.todolists})),e=Object(d.c)((function(t){return t.tasks})),a=Object(d.c)(Dt),r=Ft(),o=Mt(Bt).fetchTodolists,i=Object(n.useCallback)(function(){var t=Object(b.a)(m.a.mark((function t(e,a){var n,s,o,i,l,c;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Bt.addTodolist({title:e.title}),t.next=3,r(n);case 3:s=t.sent,Bt.addTodolist.rejected.match(s)?(null===(o=s.payload)||void 0===o||null===(i=o.errors)||void 0===i?void 0:i.length)?(c=null===(l=s.payload)||void 0===l?void 0:l.errors[0],a.setError(c)):a.setError("Some error occured"):a.setTaskText("");case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),[]);return Object(n.useEffect)((function(){a&&o()}),[]),a?s.a.createElement(s.a.Fragment,null,s.a.createElement(wt.a,{container:!0,style:{padding:"20px"}},s.a.createElement(At,{entityStatus:"idle",addItem:i})),s.a.createElement(wt.a,{container:!0,spacing:3,style:{flexWrap:"nowrap",overflowX:"scroll"}},t.map((function(t){var a=e[t.id];return s.a.createElement(wt.a,{item:!0,key:t.id},s.a.createElement("div",{style:{width:"300px"}},s.a.createElement(Rt,{todolist:t,tasks:a})))})))):s.a.createElement(zt.a,{to:"/login"})},Bt=Object(p.a)(Object(p.a)({},X),G.actions),Ht=Object(p.a)({},st),Ut=(G.reducer,G.reducer,a(186)),Zt=a(167),Jt=a(172),$t=a(173),_t=a(88),Kt=function(){var t=Ft(),e=Object(d.c)(Dt),a=Object(_t.a)({initialValues:{rememberMe:!1,password:"",email:""},validate:function(t){var e={};return t.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(t.email)||(e.email="Invalid email address"):e.email="Required",t.password?t.password.length<5&&(e.password="Must be 5 symbols or more"):e.password="Required",e},onSubmit:function(){var e=Object(b.a)(m.a.mark((function e(a,r){var n,s,o,i,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(Xt.loginTC(a));case 2:n=e.sent,V.rejected.match(n)&&(null===(s=n.payload)||void 0===s||null===(o=s.fieldsErrors)||void 0===o?void 0:o.length)&&(l=null===(i=n.payload)||void 0===i?void 0:i.fieldsErrors[0],r.setFieldError(l.field,l.error));case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()});return e?s.a.createElement(zt.a,{to:"/"}):s.a.createElement(wt.a,{container:!0,justify:"center"},s.a.createElement(wt.a,{item:!0,xs:4},s.a.createElement("form",{onSubmit:a.handleSubmit},s.a.createElement(Ut.a,null,s.a.createElement(Zt.a,null,s.a.createElement("p",null,"To log in get registered",s.a.createElement("a",{href:"https://social-network.samuraijs.com/",target:"_blank"},"here")),s.a.createElement("p",null,"or use common test account credentials:"),s.a.createElement("p",null,"Email: free@samuraijs.com"),s.a.createElement("p",null,"Password: free")),s.a.createElement(Jt.a,null,s.a.createElement(Tt.a,Object.assign({label:"Email",margin:"normal"},a.getFieldProps("email"))),a.errors.email?s.a.createElement("div",{style:{color:"red"}},a.errors.email):null,s.a.createElement(Tt.a,Object.assign({type:"password",label:"Password",margin:"normal"},a.getFieldProps("password"))),a.errors.password?s.a.createElement("div",{style:{color:"red"}},a.errors.password):null,s.a.createElement($t.a,{label:"Remember me",control:s.a.createElement(Lt.a,a.getFieldProps("rememberMe"))}),s.a.createElement(gt.a,{type:"submit",variant:"contained",color:"primary"},"Login"))))))},Xt=Object(p.a)(Object(p.a)({},M),N.actions),Gt=function(t){return t.app.status},Qt=function(t){return t.app.init};var Yt=function(){var t=Object(d.b)(),e=Object(d.c)(Gt),a=Object(d.c)(r.selectIsLoggedIn),o=Object(d.c)(Qt);return Object(n.useEffect)((function(){t(D.authMeTC())})),o?s.a.createElement("div",{className:"App"},s.a.createElement(mt.a,{position:"static"},s.a.createElement(bt.a,null,s.a.createElement(vt.a,{edge:"start",color:"inherit","aria-label":"menu"},s.a.createElement(Et.a,null)),s.a.createElement(ht.a,{variant:"h6"},"News"),a&&s.a.createElement(gt.a,{color:"inherit",onClick:function(){t(F())}},"Logout"))),"loading"===e&&s.a.createElement(kt.a,{color:"secondary"}),s.a.createElement(yt.a,{fixed:!0},s.a.createElement(zt.d,null,s.a.createElement(zt.b,{exact:!0,path:"/",component:qt}),s.a.createElement(zt.b,{path:"/login",component:Kt}))),s.a.createElement(xt,null)):s.a.createElement("div",{style:{position:"fixed",top:"30%",textAlign:"center",width:"100%"}},s.a.createElement(ft.a,null))},te=a(48);i.a.render(s.a.createElement(te.a,null,s.a.createElement(d.a,{store:pt},s.a.createElement(Yt,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[101,1,2]]]);
//# sourceMappingURL=main.72822255.chunk.js.map